<h2>Forms with Async Data</h2>

<form *ngIf="user | async; let user; else loading" [formGroup]="form" (ngSubmit)="submit()">
  <label for="firstname">First Name</label>
  <input id="firstname" formControlName="firstName" />
  <div *ngIf="firstName.hasError('required') && firstName.touched" class="error">
    Required
  </div>

  <label for="lastname">Last Name</label>
  <input id="lastname" formControlName="lastName" />
  <div *ngIf="lastName.hasError('required') && lastName.touched" class="error">
    Required
  </div>

  <label for="about">About</label>
  <textarea id="about" formControlName="about"></textarea>

  <button>Save Profile</button>

  <br />
  <label>Async Data:</label>
  <pre>{{user | json}}</pre>
</form>

<ng-template #loading>
  Loading User Data...
</ng-template>